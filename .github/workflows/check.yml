name: Check


on:
  push:
    branches:
      - main
    paths:
      - default.json
      - yaml-comment.json

  pull_request:
    branches:
      - main
    paths:
      - default.json
      - yaml-comment.json

  schedule:
    - cron: '0 13 * * 1'

  workflow_dispatch:


jobs:
  validate-renovate-config:
    name: Validate Renovate Config
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4.1.1

      - name: Run renovate-config-validator
        run: |
          npx --yes --package renovate -- renovate-config-validator --strict \
            default.json \
            yaml-comment.json
