name: Check


on:
  push:
    branches:
      - main
    paths:
      - .github/workflows/check.yml
      - default.json
      - yaml-version-comments.json

  pull_request:
    branches:
      - main
    paths:
      - .github/workflows/check.yml
      - default.json
      - yaml-version-comments.json

  schedule:
    - cron: '0 13 * * 1'

  workflow_dispatch:


jobs:
  validate-renovate-config:
    name: Validate Renovate Config
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1

      - name: Run renovate-config-validator
        run: |
          cat thisisatestignoreme
          npx --yes --package renovate -- renovate-config-validator --strict \
            default.json \
            yaml-version-comments.json
